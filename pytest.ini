[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

addopts = 
    --strict-markers
    --strict-config
    --cov=genrf
    --cov-report=html:htmlcov
    --cov-report=term-missing:skip-covered
    --cov-report=xml:coverage.xml
    --cov-fail-under=80
    --durations=10
    --tb=short
    -v

markers =
    benchmark: marks tests as benchmarks (deselect with '-m "not benchmark"')
    integration: marks tests as integration tests (deselect with '-m "not integration"')
    spice: marks tests requiring SPICE simulation (deselect with '-m "not spice"')
    slow: marks tests as slow running (deselect with '-m "not slow"')
    gpu: marks tests requiring GPU/CUDA (deselect with '-m "not gpu"')
    
    # Circuit type markers
    lna: tests specific to LNA circuits
    mixer: tests specific to mixer circuits
    vco: tests specific to VCO circuits
    pa: tests specific to power amplifier circuits
    filter: tests specific to filter circuits
    
    # Technology markers  
    tsmc65: tests using TSMC 65nm PDK
    gf22: tests using GlobalFoundries 22nm PDK
    sky130: tests using SkyWater 130nm PDK

filterwarnings =
    ignore::UserWarning:torch.*
    ignore::DeprecationWarning:sklearn.*
    ignore::PendingDeprecationWarning
    error::FutureWarning:genrf.*

# Test discovery
norecursedirs = 
    .git
    .tox
    dist
    build
    *.egg
    htmlcov
    .pytest_cache
    benchmarks
    docs
    models

# Timeout settings (disabled - plugin not installed)
# timeout = 300
# timeout_method = thread